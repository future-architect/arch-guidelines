import{_ as p,C as A,o as l,c as g,E as a,a4 as s,b as E,w as e,a as n,a5 as d,j as r}from"./chunks/framework.BIcz3et1.js";const h="/arch-guidelines/assets/direct_dispatch.drawio.DoGIikrv.png",B="/arch-guidelines/assets/outbox_polling.drawio.BcUasYBo.png",f="/arch-guidelines/assets/outbox_eventdriven.drawio.DRvO7Scn.png",y="/arch-guidelines/assets/deamon.drawio.DMmA_WBv.png",u="/arch-guidelines/assets/event_driven.drawio.XpE4Kwe7.png",x="/arch-guidelines/assets/tracing.drawio.CKAaORze.png",c="/arch-guidelines/assets/event_flow.drawio.B6f-_ZLD.png",Q=JSON.parse('{"title":"非同期設計ガイドライン","description":"非同期処理特有の「本質的な難しさ」をどう乗り越えるか。安易な非同期化を防ぐ判断基準、トランザクションアウトボックスによる整合性担保、DLQを用いたリカバリ運用など、現場で使える設計論点とベストプラクティスを網羅的に解説します。","frontmatter":{"sidebarDepth":4,"title":"非同期設計ガイドライン","author":"フューチャー株式会社","head":[["meta",{"name":"keywords","content":"Async,SQS"}]],"description":"非同期処理特有の「本質的な難しさ」をどう乗り越えるか。安易な非同期化を防ぐ判断基準、トランザクションアウトボックスによる整合性担保、DLQを用いたリカバリ運用など、現場で使える設計論点とベストプラクティスを網羅的に解説します。"},"headers":[],"relativePath":"documents/forAsync/async_guidelines.md","filePath":"documents/forAsync/async_guidelines.md"}'),C={name:"documents/forAsync/async_guidelines.md"},b={class:"tip custom-block"};function D(k,t,m,S,F,P){const o=A("page-title"),i=A("Mermaid");return l(),g("div",null,[a(o),t[17]||(t[17]=s("",13)),(l(),E(d,null,{default:e(()=>[a(i,{id:"mermaid-204",class:"mermaid",graph:"---%0Atitle%3A%20%E6%9C%AC%E3%82%AC%E3%82%A4%E3%83%89%E3%83%A9%E3%82%A4%E3%83%B3%E3%81%AE%E7%B5%B1%E4%B8%80%E7%94%A8%E8%AA%9E%0A---%0Agraph%20LR%0A%20%20%20%20Producer%5B%E3%83%97%E3%83%AD%E3%83%87%E3%83%A5%E3%83%BC%E3%82%B5%E3%83%BC%5D%20--%20%22%E9%80%81%E4%BF%A1%22%20---%20Message((%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8))%3B%0A%20%20%20%20Message%20--%3E%20Storage(%E3%82%AD%E3%83%A5%E3%83%BC)%3B%0A%20%20%20%20Storage%20--%20%22%E5%8F%97%E4%BF%A1%22%20--%3E%20Consumer%5B%E3%82%B3%E3%83%B3%E3%82%B7%E3%83%A5%E3%83%BC%E3%83%9E%E3%83%BC%5D%3B%0A"})]),fallback:e(()=>[...t[0]||(t[0]=[n(" Loading... ",-1)])]),_:1})),t[18]||(t[18]=s("",4)),(l(),E(d,null,{default:e(()=>[a(i,{id:"mermaid-236",class:"mermaid",graph:"graph%20LR%0A%20%20%20%20Start((%E9%96%8B%E5%A7%8B))%20--%3E%20Q1%7B%E5%87%A6%E7%90%86%E6%99%82%E9%96%93%E3%81%8C%E9%95%B7%E3%81%8F%3Cbr%3EUX%2F%E5%BF%9C%E7%AD%94%E6%80%A7%E3%81%AB%E5%95%8F%E9%A1%8C%E3%81%8C%E3%81%82%E3%82%8B%E3%81%8B%3F%7D%0A%0A%20%20%20%20%25%25%20%E5%87%A6%E7%90%86%E6%99%82%E9%96%93%E3%81%A8%E5%BF%9C%E7%AD%94%E6%80%A7%E3%81%AE%E5%88%A4%E6%96%AD%0A%20%20%20%20Q1%20--%20Yes%20--%3E%20C1%7B%E9%81%8B%E7%94%A8%E5%B7%A5%E5%A4%AB%E3%81%A7%3Cbr%3E%E5%BE%85%E6%A9%9F%E6%99%82%E9%96%93%E3%82%92%E8%A8%B1%E5%AE%B9%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%8B%3F%7D%0A%20%20%20%20C1%20--%20No%20--%3E%20Async%3E%E9%9D%9E%E5%90%8C%E6%9C%9F%E5%8C%96%E3%82%92%E6%A4%9C%E8%A8%8E%E3%81%99%E3%82%8B%5D%0A%20%20%20%20C1%20--%20Yes%20--%3E%20Q2%0A%20%20%20%20Q1%20--%20No%20--%3E%20Q2%7B%E7%AA%81%E7%99%BA%E7%9A%84%E3%81%AA%E3%83%90%E3%83%BC%E3%82%B9%E3%83%88%E8%B2%A0%E8%8D%B7%E3%82%92%3Cbr%3E%E5%B9%B3%E6%BA%96%E5%8C%96%E3%81%99%E3%82%8B%E5%BF%85%E8%A6%81%E3%81%8C%E3%81%82%E3%82%8B%E3%81%8B%3F%7D%0A%0A%20%20%20%20%25%25%20%E8%B2%A0%E8%8D%B7%E3%81%AE%E5%B9%B3%E6%BA%96%E5%8C%96%E3%81%AE%E5%88%A4%E6%96%AD%0A%20%20%20%20Q2%20--%20Yes%20--%3E%20C2%7B%E4%BA%8B%E5%89%8D%E3%81%AE%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9%E5%A2%97%E5%BC%B7%E3%81%A7%3Cbr%3E%E5%AF%BE%E5%BF%9C%E5%8F%AF%E8%83%BD%E3%81%8B%3F%7D%0A%20%20%20%20C2%20--%20No%20--%3E%20Async%0A%20%20%20%20C2%20--%20Yes%20--%3E%20Q3%0A%20%20%20%20Q2%20--%20No%20--%3E%20Q3%7B%E5%A4%96%E9%83%A8%E4%BE%9D%E5%AD%98%E3%81%A7%3Cbr%3E%E5%8F%AF%E7%94%A8%E6%80%A7%E3%81%8C%E4%BD%8E%E4%B8%8B%E3%81%97%E3%81%A6%E3%82%88%E3%81%84%E3%81%8B%3F%7D%0A%0A%20%20%20%20%25%25%20%E3%83%AC%E3%82%B8%E3%83%AA%E3%82%A8%E3%83%B3%E3%82%B9%E3%81%AE%E5%88%A4%E6%96%AD%0A%20%20%20%20Q3%20--%20No%20--%3E%20Async%0A%20%20%20%20Q3%20--%20Yes%20--%3E%20C3%7B%E9%9A%9C%E5%AE%B3%E6%99%82%E3%81%AB%E3%83%A1%E3%82%A4%E3%83%B3DB%E3%81%AE%3Cbr%3E%E3%83%AD%E3%83%BC%E3%83%AB%E3%83%90%E3%83%83%E3%82%AF%E3%81%95%E3%81%9B%E3%81%A6%E8%89%AF%E3%81%84%E3%81%8B%3F%7D%0A%20%20%20%20C3%20--%20No%20--%3E%20Async%0A%20%20%20%20C3%20--%20Yes%20--%3E%20Sync%3E%E5%90%8C%E6%9C%9F%E5%87%A6%E7%90%86%E3%81%AE%E3%81%BE%E3%81%BE%E3%81%AB%E3%81%99%E3%82%8B%5D%0A%0A%20%20%20%20%25%25%20Style%20Definitions%0A%20%20%20%20style%20Sync%20fill%3A%23e6ffed%2Cstroke%3A%23006600%2Cstroke-width%3A2px%2Ccolor%3A%23000000%0A%20%20%20%20style%20Async%20fill%3A%23fff0f0%2Cstroke%3A%23990000%2Cstroke-width%3A2px%2Ccolor%3A%23000000%0A%20%20%20%20style%20Start%20fill%3A%23f9f9f9%2Cstroke%3A%23333%2Cstroke-width%3A2px%2Ccolor%3A%23000000%0A"})]),fallback:e(()=>[...t[1]||(t[1]=[n(" Loading... ",-1)])]),_:1})),t[19]||(t[19]=s("",27)),(l(),E(d,null,{default:e(()=>[a(i,{id:"mermaid-415",class:"mermaid",graph:"graph%20LR%0A%20%20%20%20Start(%5B%E3%82%B3%E3%83%B3%E3%82%B7%E3%83%A5%E3%83%BC%E3%83%9E%E3%83%BC%E5%87%A6%E7%90%86%E4%B8%AD%5D)%20--%3E%20Purpose%7B%E3%81%95%E3%82%89%E3%81%AB%E9%9D%9E%E5%90%8C%E6%9C%9F%E5%87%A6%E7%90%86%E3%82%92%3Cbr%3E%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%99%E7%9B%AE%E7%9A%84%E3%81%AF%EF%BC%9F%7D%0A%0A%20%20%20%20Purpose%20--%20%22%E3%83%87%E3%83%BC%E3%82%BF%E6%95%B4%E5%90%88%E6%80%A7%3Cbr%3E(%E5%A4%96%E9%83%A8API%E9%80%A3%E6%90%BA%E3%81%AA%E3%81%A9)%22%20--%3E%20RollbackCheck%7B%E5%A4%96%E9%83%A8SaaS%E5%A4%B1%E6%95%97%E6%99%82%E3%81%AB%3Cbr%3E%E8%87%AADB%E3%82%82%E3%83%AD%E3%83%BC%E3%83%AB%E3%83%90%E3%83%83%E3%82%AF%E5%8F%AF%E3%81%8B%EF%BC%9F%7D%0A%20%20%20%20RollbackCheck%20--%20Yes%20--%3E%20RetryAll%3E%E5%8D%98%E4%B8%80%E3%83%88%E3%83%A9%E3%83%B3%E3%82%B6%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%A7%3Cbr%3E%E5%85%A8%E4%BD%93%E3%83%AA%E3%83%88%E3%83%A9%E3%82%A4%5D%0A%20%20%20%20RollbackCheck%20--%20No%20--%3E%20FinalChain%0A%0A%20%20%20%20Purpose%20--%20%22%E6%80%A7%E8%83%BD%E5%90%91%E4%B8%8A%3Cbr%3E(%E4%B8%A6%E5%88%97%E5%8C%96)%22%20--%3E%20ProgParallel%7B%E8%A8%80%E8%AA%9E%E6%A9%9F%E8%83%BD%E3%81%AB%E3%82%88%E3%82%8B%3Cbr%3E%E4%B8%A6%E5%88%97%E5%8C%96%E3%81%AF%E7%8F%BE%E5%AE%9F%E7%9A%84%E3%81%8B%EF%BC%9F%7D%0A%20%20%20%20ProgParallel%20--%20Yes%20--%3E%20ProgThread%3E%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0%E5%86%85%E3%81%A7%E4%B8%A6%E5%88%97%E5%8C%96%5D%0A%20%20%20%20ProgParallel%20--%20No%20--%3E%20GranularityCheck%0A%0A%20%20%20%20Purpose%20--%20%22%E3%83%AA%E3%82%AB%E3%83%90%E3%83%AA%E5%8D%98%E4%BD%8D%E3%81%AE%E5%88%86%E5%89%B2%3Cbr%3E(%E3%83%AD%E3%83%B3%E3%82%B0%E3%83%88%E3%83%A9%E3%83%B3%E3%82%B6%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3)%22%20--%3E%20GranularityCheck%7B%E5%85%83%E3%81%AE%E3%82%BF%E3%82%B9%E3%82%AF%E7%B2%92%E5%BA%A6%E3%82%92%3Cbr%3E%E7%B4%B0%E3%81%8B%E3%81%8F%E5%88%86%E5%89%B2%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%8B%EF%BC%9F%7D%0A%0A%20%20%20%20GranularityCheck%20--%20Yes%20--%3E%20SplitTask%3E%E3%83%97%E3%83%AD%E3%83%87%E3%83%A5%E3%83%BC%E3%82%B5%E3%83%BC%E5%81%B4%E3%81%A7%E3%81%AE%3Cbr%3E%E5%88%86%E5%89%B2%E3%82%92%E6%A4%9C%E8%A8%8E%5D%0A%20%20%20%20GranularityCheck%20--%20No%20--%3E%20FinalChain%0A%0A%20%20%20%20Purpose%20--%20%E6%B5%81%E9%87%8F%E5%88%B6%E5%BE%A1%20--%3E%20FlowCheck1%7B%E3%82%B3%E3%83%B3%E3%82%B7%E3%83%A5%E3%83%BC%E3%83%9E%E3%83%BC%E3%81%AE%3Cbr%3E%E5%90%8C%E6%99%82%E5%AE%9F%E8%A1%8C%E6%95%B0%E3%81%AE%E5%88%B6%E9%99%90%E5%8F%AF%E8%83%BD%E3%81%8B%EF%BC%9F%7D%0A%20%20%20%20FlowCheck1%20--%20Yes%20--%3E%20Avoid1%3E%E8%A8%AD%E5%AE%9A%E5%80%A4%E3%81%A7%E3%81%AE%E5%88%B6%E5%BE%A1%E3%82%92%E5%84%AA%E5%85%88%E3%81%99%E3%82%8B%5D%0A%0A%20%20%20%20FlowCheck1%20--%20No%20--%3E%20PollingCheck%7B%E3%83%9D%E3%83%BC%E3%83%AA%E3%83%B3%E3%82%B0%E7%AD%89%3Cbr%3E%E5%88%A5%E3%81%AE%E9%9D%9E%E5%90%8C%E6%9C%9F%E6%96%B9%E5%BC%8F%E3%81%AF%3Cbr%3E%E6%8E%A1%E7%94%A8%E5%8F%AF%E8%83%BD%E3%81%8B%EF%BC%9F%7D%0A%20%20%20%20PollingCheck%20--%20Yes%20--%3E%20AdoptPolling%3E%E3%83%9D%E3%83%BC%E3%83%AA%E3%83%B3%E3%82%B0%E7%AD%89%E3%81%AE%E6%A4%9C%E8%A8%8E%5D%0A%0A%20%20%20%20PollingCheck%20--%20No%20--%3E%20FlowCheck2%7BSleep%E7%AD%89%E3%83%AD%E3%82%B8%E3%83%83%E3%82%AF%E3%81%A7%E3%81%AE%3Cbr%3E%E5%9B%9E%E9%81%BF%E3%81%8C%E7%8F%BE%E5%AE%9F%E7%9A%84%E3%81%8B%EF%BC%9F%7D%0A%20%20%20%20FlowCheck2%20--%20Yes%20--%3E%20Avoid2%3E%E3%83%AD%E3%82%B8%E3%83%83%E3%82%AF%E3%81%A7%E3%81%AE%E5%88%B6%E5%BE%A1%E3%82%92%E6%A4%9C%E8%A8%8E%5D%0A%20%20%20%20FlowCheck2%20--%20No%20--%3E%20FinalChain%0A%0A%20%20%20%20FinalChain%3E%E9%9D%9E%E5%90%8C%E6%9C%9F%E3%81%AE%E9%80%A3%E9%8E%96%E3%82%92%E6%A4%9C%E8%A8%8E%5D%0A%0A%20%20%20%20%25%25%20Style%20Definitions%0A%20%20%20%20style%20FinalChain%20fill%3A%23fff0f0%2Cstroke%3A%23990000%2Cstroke-width%3A2px%2Ccolor%3A%23000000%0A%20%20%20%20style%20RetryAll%20fill%3A%23e6ffed%2Cstroke%3A%23006600%2Cstroke-width%3A2px%2Ccolor%3A%23000000%0A%20%20%20%20style%20ProgThread%20fill%3A%23e6ffed%2Cstroke%3A%23006600%2Cstroke-width%3A2px%2Ccolor%3A%23000000%0A%20%20%20%20style%20SplitTask%20fill%3A%23e6ffed%2Cstroke%3A%23006600%2Cstroke-width%3A2px%2Ccolor%3A%23000000%0A%20%20%20%20style%20Avoid1%20fill%3A%23e6ffed%2Cstroke%3A%23006600%2Cstroke-width%3A2px%2Ccolor%3A%23000000%0A%20%20%20%20style%20AdoptPolling%20fill%3A%23e6ffed%2Cstroke%3A%23006600%2Cstroke-width%3A2px%2Ccolor%3A%23000000%0A%20%20%20%20style%20Avoid2%20fill%3A%23e6ffed%2Cstroke%3A%23006600%2Cstroke-width%3A2px%2Ccolor%3A%23000000%0A"})]),fallback:e(()=>[...t[2]||(t[2]=[n(" Loading... ",-1)])]),_:1})),t[20]||(t[20]=s("",8)),(l(),E(d,null,{default:e(()=>[a(i,{id:"mermaid-567",class:"mermaid",graph:"flowchart%20LR%0A%20%20%20%20Start(%5B%E9%96%8B%E5%A7%8B%5D)%20--%3E%20Q1%7B1.%20%E7%89%B9%E6%AE%8A%E3%81%AA%E5%88%B6%E7%B4%84%E3%83%BB%E8%A6%81%E4%BB%B6%E3%81%8C%E3%81%82%E3%82%8B%E3%81%8B%EF%BC%9F%7D%0A%0A%20%20%20%20Q1%20--%20No%3Cbr%3E(%E6%8E%A8%E5%A5%A8)%20--%3E%20FullyManaged%3E%E3%83%95%E3%83%AB%E3%83%9E%E3%83%8D%E3%83%BC%E3%82%B8%E3%83%89%5D%0A%20%20%20%20Q1%20--%20Yes%20--%3E%20Q2%7B2.%20%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E7%AE%A1%E7%90%86%E3%83%BB%E9%81%8B%E7%94%A8%E3%82%92%3Cbr%3E%E3%82%AF%E3%83%A9%E3%82%A6%E3%83%89%E3%81%AB%E4%BB%BB%E3%81%9B%E3%81%9F%E3%81%84%E3%81%8B%EF%BC%9F%7D%0A%20%20%20%20Q2%20--%20Yes%20--%3E%20ManagedRuntime%3E%E3%83%9E%E3%83%8D%E3%83%BC%E3%82%B8%E3%83%89%E3%83%A9%E3%83%B3%E3%82%BF%E3%82%A4%E3%83%A0%5D%0A%20%20%20%20Q2%20--%20No%3Cbr%3E%E7%89%B9%E5%AE%9A%E3%81%AE%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E6%8C%87%E5%AE%9A%E3%81%AA%E3%81%A9%20--%3E%20SelfHosted%3E%E3%82%BB%E3%83%AB%E3%83%95%E3%83%9B%E3%82%B9%E3%83%88%5D%0A%0A%20%20%20%20style%20FullyManaged%20fill%3A%23e6ffed%2Cstroke%3A%23006600%2Cstroke-width%3A2px%2Ccolor%3A%23000000%0A%20%20%20%20style%20ManagedRuntime%20fill%3A%23fff0f0%2Cstroke%3A%23990000%2Cstroke-width%3A2px%2Ccolor%3A%23000000%0A%20%20%20%20style%20SelfHosted%20fill%3A%23fff0f0%2Cstroke%3A%23990000%2Cstroke-width%3A2px%2Ccolor%3A%23000000%0A"})]),fallback:e(()=>[...t[3]||(t[3]=[n(" Loading... ",-1)])]),_:1})),t[21]||(t[21]=s("",57)),(l(),E(d,null,{default:e(()=>[a(i,{id:"mermaid-1324",class:"mermaid",graph:"---%0Atitle%3A%20%E3%80%90%E5%A4%B1%E6%95%97%E4%BE%8B%E3%80%91%E3%83%95%E3%82%A1%E3%83%B3%E3%83%88%E3%83%A0%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%0A---%0A%25%25%7Binit%3A%20%7B'sequence'%3A%20%7B'mirrorActors'%3A%20false%7D%7D%7D%25%25%0AsequenceDiagram%0A%20%20%20%20autonumber%0A%20%20%20%20participant%20App%20as%20%E3%83%97%E3%83%AD%E3%83%87%E3%83%A5%E3%83%BC%E3%82%B5%E3%83%BC%0A%20%20%20%20participant%20DB%20as%20DB%0A%20%20%20%20participant%20Queue%20as%20%E3%82%AD%E3%83%A5%E3%83%BC%0A%20%20%20%20participant%20Worker%20as%20%E3%82%B3%E3%83%B3%E3%82%B7%E3%83%A5%E3%83%BC%E3%83%9E%E3%83%BC%0A%0A%20%20%20%20App-%3E%3EDB%3A%20%E6%A5%AD%E5%8B%99%E5%87%A6%E7%90%86%0A%20%20%20%20App-%3E%3EQueue%3A%20Send%20Message%0A%20%20%20%20Queue--%3E%3EApp%3A%20OK%20(Ack)%0A%0A%20%20%20%20rect%20rgb(255%2C%20230%2C%20230%2C%200.5)%0A%20%20%20%20%20%20%20%20App-%3E%3EDB%3A%20COMMIT%0A%20%20%20%20%20%20%20%20DB--xApp%3A%20%E2%9D%8C%20%E3%82%A8%E3%83%A9%E3%83%BC%20%2F%20%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%A2%E3%82%A6%E3%83%88%0A%20%20%20%20end%0A%0A%0A%20%20%20%20Queue-%3E%3EWorker%3A%20%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E5%8F%97%E4%BF%A1%0A%20%20%20%20activate%20Worker%0A%20%20%20%20Worker-%3E%3EDB%3A%20%E3%83%87%E3%83%BC%E3%82%BF%E5%8F%82%E7%85%A7%20(SELECT)%0A%20%20%20%20DB--%3E%3EWorker%3A%200%E4%BB%B6%20(Not%20Found)%0A%20%20%20%20Note%20right%20of%20Worker%3A%20%E2%9D%8C%20%E3%83%87%E3%83%BC%E3%82%BF%E4%B8%8D%E6%95%B4%E5%90%88%3Cbr%3E%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E3%81%AF%E5%B1%8A%E3%81%84%E3%81%9F%E3%81%AE%E3%81%AB%E3%83%87%E3%83%BC%E3%82%BF%E3%81%8C%E3%81%AA%E3%81%84%0A%20%20%20%20deactivate%20Worker%0A"})]),fallback:e(()=>[...t[4]||(t[4]=[n(" Loading... ",-1)])]),_:1})),t[22]||(t[22]=r("p",null,"これは、単純に順序を逆転しても解決しない。むしろ、一部処理が成功したと見せかけて後続のコンシューマーが起動しないというメッセージロストが発生する分、事態は悪化しているとも言える。",-1)),(l(),E(d,null,{default:e(()=>[a(i,{id:"mermaid-1328",class:"mermaid",graph:"---%0Atitle%3A%20%E3%80%90%E5%A4%B1%E6%95%97%E4%BE%8B%E3%80%91%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E3%83%AD%E3%82%B9%E3%83%88%0A---%0A%25%25%7Binit%3A%20%7B'sequence'%3A%20%7B'mirrorActors'%3A%20false%7D%7D%7D%25%25%0AsequenceDiagram%0A%20%20%20%20autonumber%0A%20%20%20%20participant%20App%20as%20%E3%83%97%E3%83%AD%E3%83%87%E3%83%A5%E3%83%BC%E3%82%B5%E3%83%BC%0A%20%20%20%20participant%20DB%20as%20DB%0A%20%20%20%20participant%20Queue%20as%20%E3%82%AD%E3%83%A5%E3%83%BC%0A%20%20%20%20participant%20Worker%20as%20%E3%82%B3%E3%83%B3%E3%82%B7%E3%83%A5%E3%83%BC%E3%83%9E%E3%83%BC%0A%0A%20%20%20%20App-%3E%3EDB%3A%20%E6%A5%AD%E5%8B%99%E5%87%A6%E7%90%86%0A%20%20%20%20App-%3E%3EDB%3A%20COMMIT%0A%20%20%20%20DB--%3E%3EApp%3A%20OK%0A%0A%20%20%20%20rect%20rgb(255%2C%20230%2C%20230%2C%200.5)%0A%20%20%20%20%20%20App-%3E%3EQueue%3A%20Send%20Message%0A%20%20%20%20%20%20Queue--xApp%3A%20%E2%9D%8C%20%E3%83%8D%E3%83%83%E3%83%88%E3%83%AF%E3%83%BC%E3%82%AF%E3%82%A8%E3%83%A9%E3%83%BC%20%2F%20%E9%9A%9C%E5%AE%B3%0A%20%20%20%20end%0A%0A%20%20%20%20Note%20over%20Worker%3A%20%E2%9D%8C%EF%B8%8F%E5%BE%8C%E7%B6%9A%E5%87%A6%E7%90%86%E3%81%8C%E8%B5%B7%E5%8B%95%E3%81%97%E3%81%AA%E3%81%84%0A"})]),fallback:e(()=>[...t[5]||(t[5]=[n(" Loading... ",-1)])]),_:1})),t[23]||(t[23]=s("",12)),(l(),E(d,null,{default:e(()=>[a(i,{id:"mermaid-1531",class:"mermaid",graph:"graph%20LR%0A%20%20%20%20User((fa%3Afa-user%20%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC))%20--%201.%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%20--%3E%20Producer%5B%E3%83%97%E3%83%AD%E3%83%87%E3%83%A5%E3%83%BC%E3%82%B5%E3%83%BC%5D%3B%0A%20%20%20%20Producer%20--%202.SUBMITTED%20--%3E%20DB%5B(%E3%82%B9%E3%83%86%E3%83%BC%E3%82%BF%E3%82%B9%E7%AE%A1%E7%90%86%E3%82%B9%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB)%5D%3B%0A%20%20%20%20Producer%20--%203.%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E9%80%81%E4%BF%A1%20--%3E%20Queue(%5B%E3%82%AD%E3%83%A5%E3%83%BC%5D)%3B%0A%20%20%20%20Producer%20--%204.Job%20ID%20--%3E%20User%3B%0A%0A%20%20%20%20Queue%20--%205.%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E5%8F%97%E4%BF%A1(Job%20ID)%20--%3E%20Consumer%5B%E3%82%B3%E3%83%B3%E3%82%B7%E3%83%A5%E3%83%BC%E3%83%9E%E3%83%BC%5D%3B%0A%20%20%20%20Consumer%20--%206.%E3%83%AD%E3%83%83%E3%82%AF%20or%20%E6%9B%B4%E6%96%B0%20--%3E%20DB%3B%0A%20%20%20%20Consumer%20--%207.COMPLETED%20or%20FAILED%20--%3E%20DB%3B%0A"})]),fallback:e(()=>[...t[6]||(t[6]=[n(" Loading... ",-1)])]),_:1})),t[24]||(t[24]=s("",7)),(l(),E(d,null,{default:e(()=>[a(i,{id:"mermaid-1747",class:"mermaid",graph:"stateDiagram-v2%0A%20%20%20%20direction%20LR%0A%0A%20%20%20%20%5B*%5D%20--%3E%20PENDING%3A%20%E3%82%B8%E3%83%A7%E3%83%96%E7%99%BB%E9%8C%B2%0A%0A%20%20%20%20PENDING%20--%3E%20RUNNING%3A%20%E3%82%B3%E3%83%B3%E3%82%B7%E3%83%A5%E3%83%BC%E3%83%9E%E3%83%BC%E3%81%8C%E5%8F%96%E5%BE%97%0A%20%20%20%20PENDING%20--%3E%20CANCELED%3A%20(%E5%AE%9F%E8%A1%8C%E5%89%8D%E3%81%AB%E4%B8%AD%E6%AD%A2)%0A%0A%20%20%20%20RUNNING%20--%3E%20SUCCEEDED%3A%20%E5%87%A6%E7%90%86%E6%88%90%E5%8A%9F%0A%20%20%20%20RUNNING%20--%3E%20FAILED%3A%20%E5%9B%9E%E5%BE%A9%E4%B8%8D%E8%83%BD%E3%82%A8%E3%83%A9%E3%83%BC%0A%20%20%20%20RUNNING%20--%3E%20CANCELED%3A%20(%E5%AE%9F%E8%A1%8C%E4%B8%AD%E3%81%AB%E4%B8%AD%E6%AD%A2)%0A%0A%20%20%20%20%25%25%20---%20%E7%B5%82%E7%AB%AF%E7%8A%B6%E6%85%8B%20---%0A%20%20%20%20SUCCEEDED%20--%3E%20%5B*%5D%0A%20%20%20%20FAILED%20--%3E%20%5B*%5D%0A%20%20%20%20CANCELED%20--%3E%20%5B*%5D%0A"})]),fallback:e(()=>[...t[7]||(t[7]=[n(" Loading... ",-1)])]),_:1})),t[25]||(t[25]=s("",10)),(l(),E(d,null,{default:e(()=>[a(i,{id:"mermaid-1883",class:"mermaid",graph:"flowchart%20LR%0A%20%20%20%20style%20Consumer%20fill-opacity%3A0%2C%20stroke-opacity%3A0%3B%0A%20%20%20%20User((fa%3Afa-user%20%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC))%20--%201.%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%20--%3E%20Producer%5B%E3%83%97%E3%83%AD%E3%83%87%E3%83%A5%E3%83%BC%E3%82%B5%E3%83%BC%5D%3B%0A%20%20%20%20Producer%20--%202.%E4%BA%88%E7%B4%84%E3%83%AC%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E8%BF%BD%E5%8A%A0%20--%3E%20DB%5B(%E3%82%B9%E3%83%86%E3%83%BC%E3%82%BF%E3%82%B9%E7%AE%A1%E7%90%86%E3%82%B9%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB)%5D%3B%0A%20%20%20%20Producer%20--%203.Job%20ID%20--%3E%20User%3B%0A%20%20%20%20Process%5B%22%E5%88%A5%E3%83%97%E3%83%AD%E3%82%BB%E3%82%B9%22%5D%20-.%20%224.%E3%83%9D%E3%83%BC%E3%83%AA%E3%83%B3%E3%82%B0%22%20.-%3E%20DB%3B%0A%20%20%20%20Process%20--%205.%E6%9D%A1%E4%BB%B6%E3%82%92%E6%BA%80%E3%81%9F%E3%81%99Job%E3%82%92%E9%80%81%E4%BF%A1%20--%3E%20Queue(%5B%E3%82%AD%E3%83%A5%E3%83%BC%5D)%3B%0A%0A%20%20%20%20Queue%20-.%20%E9%A0%86%E6%AC%A1%E5%AE%9F%E8%A1%8C%20.-%3E%20Consumer%5B%22%20%22%5D%0A%20%20%20%20%25%25%20Queue%20--%206.%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E5%8F%97%E4%BF%A1(Job%20ID)%20--%3E%20Consumer%5B%E3%82%B3%E3%83%B3%E3%82%B7%E3%83%A5%E3%83%BC%E3%83%9E%E3%83%BC%5D%3B%0A%20%20%20%20%25%25%20Consumer%20--%207.%E3%83%AD%E3%83%83%E3%82%AF%20or%20%E6%9B%B4%E6%96%B0%20--%3E%20DB%3B%0A%20%20%20%20%25%25%20Consumer%20--%208.COMPLETED%20or%20FAILED%20--%3E%20DB%3B%0A"})]),fallback:e(()=>[...t[8]||(t[8]=[n(" Loading... ",-1)])]),_:1})),t[26]||(t[26]=s("",26)),(l(),E(d,null,{default:e(()=>[a(i,{id:"mermaid-2412",class:"mermaid",graph:"graph%20LR%0A%20%20%20%20User2(fa%3Afa-user%20%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%2F%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0)%20--%20%221.%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%22%20--%3E%20API2%5B%E3%83%97%E3%83%AD%E3%83%87%E3%83%A5%E3%83%BC%E3%82%B5%E3%83%BC%5D%0A%20%20%20%20API2%20--%20%222.%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E9%80%81%E4%BF%A1%22%20--%3E%20Q(%5B%E3%82%AD%E3%83%A5%E3%83%BC%5D)%20%26%20DB%5B(Status%20DB)%5D%0A%20%20%20%20Q%20--%20%223.%E5%87%A6%E7%90%86%E5%AE%9F%E8%A1%8C%22%20--%3E%20C%5B%E3%82%B3%E3%83%B3%E3%82%B7%E3%83%A5%E3%83%BC%E3%83%9E%E3%83%BC%5D%0A%20%20%20%20C%20--%20%224.DB%E3%81%AB%E6%9B%B8%E8%BE%BC%22%20--%3E%20DB%0A%20%20%20%20API2%20-.%20%225.%E3%83%9D%E3%83%BC%E3%83%AA%E3%83%B3%E3%82%B0%22%20.-%3E%20DB%0A%20%20%20%20API2%20--%20%226.%E5%87%A6%E7%90%86%E7%B5%90%E6%9E%9C%20(%E5%90%8C%E6%9C%9F)%22%20--%3E%20User2%0A"})]),fallback:e(()=>[...t[9]||(t[9]=[n(" Loading... ",-1)])]),_:1})),t[27]||(t[27]=s("",10)),(l(),E(d,null,{default:e(()=>[a(i,{id:"mermaid-2573",class:"mermaid",graph:"%25%25%7Binit%3A%20%7B'sequence'%3A%20%7B'mirrorActors'%3A%20false%7D%7D%7D%25%25%0AsequenceDiagram%0A%20%20%20%20autonumber%0A%20%20%20%20actor%20User%20as%20%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%0A%20%20%20%20participant%20Worker%20as%20%E6%B3%A8%E6%96%87%E5%87%A6%E7%90%86%0A%20%20%20%20participant%20DB%20as%20%E2%91%A0%20%E8%87%AA%E7%A4%BEDB%0A%20%20%20%20participant%20SF%20as%20%E2%91%A1%20%E9%A1%A7%E5%AE%A2%E7%AE%A1%E7%90%86%3Cbr%3E(Salesforce%E3%81%AA%E3%81%A9)%0A%20%20%20%20participant%20PQ%20as%20%E6%B1%BA%E6%B8%88%E3%82%AD%E3%83%A5%E3%83%BC%0A%20%20%20%20participant%20PW%20as%20%E6%B1%BA%E6%B8%88%E3%83%AF%E3%83%BC%E3%82%AB%E3%83%BC%0A%20%20%20%20participant%20Z%20as%20%E2%91%A2%20%E6%B1%BA%E6%B8%88%E5%9F%BA%E7%9B%A4%3Cbr%3E(SaaS)%0A%0A%20%20%20%20User-%3E%3EWorker%3A%20%E3%82%B5%E3%82%A4%E3%83%B3%E3%82%A2%E3%83%83%E3%83%97%20(%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88)%0A%20%20%20%20activate%20Worker%0A%0A%20%20%20%20rect%20rgb(240%2C%20255%2C%20240%2C%200.5)%0A%20%20%20%20%20%20%20%20note%20right%20of%20Worker%3A%20%E3%83%A1%E3%82%A4%E3%83%B3%E5%87%A6%E7%90%86%E5%AE%8C%E4%BA%86%20(Commit)%0A%20%20%20%20%20%20%20%20Worker-%3E%3EDB%3A%20%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E4%BD%9C%E6%88%90%20(TX)%0A%20%20%20%20%20%20%20%20DB--%3E%3EWorker%3A%20OK%0A%0A%20%20%20%20%20%20%20%20Worker-%3E%3ESF%3A%20%E9%A1%A7%E5%AE%A2%E3%83%AC%E3%82%B3%E3%83%BC%E3%83%89%E4%BD%9C%E6%88%90%20(API%20Call)%0A%20%20%20%20%20%20%20%20SF--%3E%3EWorker%3A%20OK%0A%0A%20%20%20%20%20%20%20%20Worker-%3E%3EPQ%3A%20%E8%AB%8B%E6%B1%82%E3%82%A2%E3%82%AB%E3%82%A6%E3%83%B3%E3%83%88%E4%BD%9C%E6%88%90%E4%BE%9D%E9%A0%BC%20(%E9%9D%9E%E5%90%8C%E6%9C%9F)%0A%20%20%20%20%20%20%20%20Worker-%3E%3EDB%3A%20commit%0A%20%20%20%20%20%20%20%20Worker--%3E%3EUser%3A%20Accepted%0A%20%20%20%20end%0A%20%20%20%20deactivate%20Worker%0A%0A%20%20%20%20PQ--%3E%3EPW%3A%20%E6%B1%BA%E6%B8%88%E3%82%B8%E3%83%A7%E3%83%96%E5%8F%97%E4%BF%A1%0A%20%20%20%20activate%20PW%0A%0A%20%20%20%20rect%20rgb(255%2C%20240%2C%20240%2C%200.5)%0A%20%20%20%20%20%20%20%20note%20right%20of%20PW%3A%20%E7%95%B0%E5%B8%B8%E7%99%BA%E7%94%9F%3Cbr%3E%E5%90%8C%E6%9C%9F%E9%83%A8%E5%88%86%E3%81%A8%E6%B1%BA%E6%B8%88%E5%9F%BA%E7%9B%A4%E3%81%A7%E3%83%87%E3%83%BC%E3%82%BF%E4%B8%8D%E6%95%B4%E5%90%88%0A%20%20%20%20%20%20%20%20PW-%3E%3EZ%3A%20%E8%AB%8B%E6%B1%82%E3%82%A2%E3%82%AB%E3%82%A6%E3%83%B3%E3%83%88%E4%BD%9C%E6%88%90%20(API%20Call)%0A%20%20%20%20%20%20%20%20activate%20Z%0A%20%20%20%20%20%20%20%20Z--xPW%3A%20%E2%9D%8C%20%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%A2%E3%82%A6%E3%83%88%20%2F%20%E3%82%A8%E3%83%A9%E3%83%BC%0A%20%20%20%20%20%20%20%20deactivate%20Z%0A%20%20%20%20end%0A%0A%20%20%20%20deactivate%20PW%0A"})]),fallback:e(()=>[...t[10]||(t[10]=[n(" Loading... ",-1)])]),_:1})),t[28]||(t[28]=s("",3)),(l(),E(d,null,{default:e(()=>[a(i,{id:"mermaid-2652",class:"mermaid",graph:"%25%25%7Binit%3A%20%7B'sequence'%3A%20%7B'mirrorActors'%3A%20false%7D%7D%7D%25%25%0AsequenceDiagram%0A%20%20%20%20autonumber%0A%20%20%20%20actor%20User%20as%20%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%0A%20%20%20%20participant%20Worker%20as%20%E6%B3%A8%E6%96%87%E5%87%A6%E7%90%86%0A%20%20%20%20participant%20DB%20as%20%E2%91%A0%20%E8%87%AA%E7%A4%BEDB%0A%20%20%20%20participant%20SF%20as%20%E2%91%A1%20%E9%A1%A7%E5%AE%A2%E7%AE%A1%E7%90%86%3Cbr%3E(Salesforce%E3%81%AA%E3%81%A9)%0A%20%20%20%20participant%20PQ%20as%20%E6%B1%BA%E6%B8%88%E3%82%AD%E3%83%A5%E3%83%BC%0A%20%20%20%20participant%20PW%20as%20%E6%B1%BA%E6%B8%88%E3%83%AF%E3%83%BC%E3%82%AB%E3%83%BC%0A%20%20%20%20participant%20Z%20as%20%E2%91%A2%20%E6%B1%BA%E6%B8%88%E5%9F%BA%E7%9B%A4%3Cbr%3E(SaaS)%0A%0A%20%20%20%20User-%3E%3EWorker%3A%20%E3%82%B5%E3%82%A4%E3%83%B3%E3%82%A2%E3%83%83%E3%83%97%20(%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88)%0A%20%20%20%20activate%20Worker%0A%0A%20%20%20%20rect%20rgb(240%2C%20255%2C%20240%2C%200.5)%0A%20%20%20%20%20%20%20%20note%20right%20of%20Worker%3A%20%E3%83%A1%E3%82%A4%E3%83%B3%E5%87%A6%E7%90%86%E5%AE%8C%E4%BA%86%20(Commit)%0A%20%20%20%20%20%20%20%20Worker-%3E%3EDB%3A%20%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E4%BD%9C%E6%88%90%20(TX)%0A%20%20%20%20%20%20%20%20DB--%3E%3EWorker%3A%20OK%0A%0A%20%20%20%20%20%20%20%20Worker-%3E%3ESF%3A%20%E9%A1%A7%E5%AE%A2%E3%83%AC%E3%82%B3%E3%83%BC%E3%83%89%E4%BD%9C%E6%88%90%20(API%20Call)%0A%20%20%20%20%20%20%20%20SF--%3E%3EWorker%3A%20OK%0A%0A%20%20%20%20%20%20%20%20Worker-%3E%3EPQ%3A%20%E8%AB%8B%E6%B1%82%E3%82%A2%E3%82%AB%E3%82%A6%E3%83%B3%E3%83%88%E4%BD%9C%E6%88%90%E4%BE%9D%E9%A0%BC%0A%20%20%20%20%20%20%20%20Worker-%3E%3EDB%3A%20commit%0A%20%20%20%20%20%20%20%20Worker--%3E%3EUser%3A%20Accepted%0A%20%20%20%20end%0A%20%20%20%20deactivate%20Worker%0A%0A%20%20%20%20PQ--%3E%3EPW%3A%20%E6%B1%BA%E6%B8%88%E3%82%B8%E3%83%A7%E3%83%96%E5%8F%97%E4%BF%A1%0A%20%20%20%20activate%20PW%0A%0A%20%20%20%20rect%20rgb(255%2C%20240%2C%20240%2C%200.5)%0A%20%20%20%20%20%20%20%20note%20right%20of%20PW%3A%20%E7%95%B0%E5%B8%B8%E7%99%BA%E7%94%9F%0A%20%20%20%20%20%20%20%20PW-%3E%3EZ%3A%20%E8%AB%8B%E6%B1%82%E3%82%A2%E3%82%AB%E3%82%A6%E3%83%B3%E3%83%88%E4%BD%9C%E6%88%90%20(API%20Call)%0A%20%20%20%20%20%20%20%20activate%20Z%0A%20%20%20%20%20%20%20%20Z--xPW%3A%20%E2%9D%8C%20%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%A2%E3%82%A6%E3%83%88%20%2F%20%E3%82%A8%E3%83%A9%E3%83%BC%0A%20%20%20%20%20%20%20%20deactivate%20Z%0A%0A%20%20%20%20%20%20%20%20note%20over%20PW%2C%20Z%3A%20%E3%80%90Saga%E9%96%8B%E5%A7%8B%3A%20%E8%A3%9C%E5%84%9F%E3%83%88%E3%83%A9%E3%83%B3%E3%82%B6%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E5%AE%9F%E8%A1%8C%E3%80%91%0A%0A%20%20%20%20%20%20%20%20%25%25%20---%20%E8%A3%9C%E5%84%9F%E5%87%A6%E7%90%86%EF%BC%88Sequential%3A%20DB%20-%3E%20SF%EF%BC%89---%0A%20%20%20%20%20%20%20%20note%20right%20of%20PW%3A%20%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%83%AC%E3%82%B3%E3%83%BC%E3%83%89%E5%89%8A%E9%99%A4%0A%20%20%20%20%20%20%20%20PW-%3E%3EDB%3A%20%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%83%AC%E3%82%B3%E3%83%BC%E3%83%89%E5%89%8A%E9%99%A4%0A%20%20%20%20%20%20%20%20DB--%3E%3EPW%3A%20OK%0A%0A%20%20%20%20%20%20%20%20note%20right%20of%20PW%3A%20%E9%A1%A7%E5%AE%A2%E3%83%AC%E3%82%B3%E3%83%BC%E3%83%89%E5%89%8A%E9%99%A4%0A%20%20%20%20%20%20%20%20PW-%3E%3ESF%3A%20%E9%A1%A7%E5%AE%A2%E3%83%AC%E3%82%B3%E3%83%BC%E3%83%89%E5%89%8A%E9%99%A4%0A%20%20%20%20%20%20%20%20SF--%3E%3EPW%3A%20%E5%89%8A%E9%99%A4%E5%AE%8C%E4%BA%86%0A%20%20%20%20%20%20%20%20PW-%3E%3EDB%3A%20commit%0A%20%20%20%20end%0A%0A%20%20%20%20deactivate%20PW%0A"})]),fallback:e(()=>[...t[11]||(t[11]=[n(" Loading... ",-1)])]),_:1})),t[29]||(t[29]=s("",80)),(l(),E(d,null,{default:e(()=>[a(i,{id:"mermaid-3899",class:"mermaid",graph:"graph%20LR%0A%20%20%20%20Start(%5B%E3%82%B3%E3%83%B3%E3%82%B7%E3%83%A5%E3%83%BC%E3%83%9E%E3%83%BC%E5%87%A6%E7%90%86%E9%96%8B%E5%A7%8B%5D)%20--%3E%20Exec%7B%E5%87%A6%E7%90%86%E5%AE%9F%E8%A1%8C%7D%0A%0A%20%20%20%20Exec%20--%20%E6%88%90%E5%8A%9F%20--%3E%20Success%3E%E5%87%A6%E7%90%86%E5%AE%8C%E4%BA%86%5D%0A%20%20%20%20style%20Success%20fill%3A%23e6ffed%2Cstroke%3A%23006600%2Cstroke-width%3A2px%2Ccolor%3A%23000000%0A%0A%20%20%20%20Exec%20--%20%E3%82%A8%E3%83%A9%E3%83%BC%E7%99%BA%E7%94%9F%20--%3E%20ErrorType%7B%E3%82%A8%E3%83%A9%E3%83%BC%E3%81%AE%E7%A8%AE%E9%A1%9E%E5%88%A4%E5%AE%9A%7D%0A%20%20%20%20ErrorType%20--%20%22%E5%9B%9E%E5%BE%A9%E4%B8%8D%E8%83%BD%E3%82%A8%E3%83%A9%E3%83%BC%22%20--%3E%20ManualDLQ%3E%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AB%E3%82%88%E3%82%8BDLQ%E9%80%80%E9%81%BF%3Cbr%3E%EF%BC%88%E3%83%96%E3%83%AD%E3%83%83%E3%82%AD%E3%83%B3%E3%82%B0%E5%8D%B3%E6%99%82%E8%A7%A3%E6%B6%88%EF%BC%89%5D%0A%20%20%20%20style%20ManualDLQ%20fill%3A%23fff0f0%2Cstroke%3A%23990000%2Cstroke-width%3A2px%2Ccolor%3A%23000000%0A%0A%20%20%20%20ErrorType%20--%20%22%E5%9B%9E%E5%BE%A9%E8%A6%8B%E8%BE%BC%E3%81%BF%E3%81%8C%E3%81%82%E3%82%8B%E3%82%A8%E3%83%A9%E3%83%BC%3Cbr%3E%E3%82%A2%E3%83%97%E3%83%AA%E3%81%A7%E4%BE%8B%E5%A4%96%E3%82%92%E3%82%B9%E3%83%AD%E3%83%BC%22%20--%3E%20MaxCheck%7BmaxReceiveCount%3Cbr%3E%E8%B6%85%E9%81%8E%EF%BC%9F%7D%0A%20%20%20%20ErrorType%20--%20%22%E3%83%97%E3%83%AD%E3%82%BB%E3%82%B9%E3%82%AF%E3%83%A9%E3%83%83%E3%82%B7%E3%83%A5%3Cbr%3EOOM%2FTimeout%22%20--%3E%20MaxCheck%0A%20%20%20%20MaxCheck%20--%20Yes%20--%3E%20AutoDLQ%3E%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E3%81%AB%E3%82%88%E3%82%8BDLQ%E8%BB%A2%E9%80%81%3Cbr%3E%EF%BC%88%E3%82%BB%E3%83%BC%E3%83%95%E3%83%86%E3%82%A3%E3%83%8D%E3%83%83%E3%83%88%EF%BC%89%5D%0A%20%20%20%20style%20AutoDLQ%20fill%3A%23fff0f0%2Cstroke%3A%23990000%2Cstroke-width%3A2px%2Ccolor%3A%23000000%0A%0A%20%20%20%20MaxCheck%20--%20No%20--%3E%20VisibilityWait(%E5%8F%AF%E8%A6%96%E6%80%A7%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%A2%E3%82%A6%E3%83%88%E5%BE%85%E6%A9%9F)%0A%20%20%20%20VisibilityWait%20--%3E%20Start%0A"})]),fallback:e(()=>[...t[12]||(t[12]=[n(" Loading... ",-1)])]),_:1})),t[30]||(t[30]=s("",38)),r("div",b,[t[14]||(t[14]=r("p",{class:"custom-block-title"},"イベントフロー図とシーケンス図のサンプル",-1)),t[15]||(t[15]=r("p",null,[r("img",{src:c,alt:"非同期のイベントフロー図"})],-1)),t[16]||(t[16]=r("p",null,"シーケンス図のサンプル（meramid.js）。機能設計書であれば本来はビジネスロジックやDBへのCRUDを丁寧に書くべきであるが、サンプルのため割愛。",-1)),(l(),E(d,null,{default:e(()=>[a(i,{id:"mermaid-4317",class:"mermaid",graph:"%25%25%7Binit%3A%20%7B'sequence'%3A%20%7B'mirrorActors'%3A%20false%7D%7D%7D%25%25%0AsequenceDiagram%0A%20%20%20%20actor%20C%20as%20Client%20(%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89)%0A%20%20%20%20participant%20API%20as%20Order%20API%20(Producer)%0A%20%20%20%20participant%20OQ%20as%20order-queue%0A%20%20%20%20participant%20OP%20as%20Order%20Processor%20(Consumer%201)%0A%20%20%20%20participant%20DB%20as%20Order%20DB%0A%20%20%20%20participant%20PQ%20as%20payment-queue%0A%20%20%20%20participant%20PP%20as%20Payment%20Processor%20(Consumer%202)%0A%20%20%20%20participant%20ExtAPI%20as%20External%20Payment%20API%0A%0A%20%20%20%20%25%25%20---%201.%20%E6%B3%A8%E6%96%87%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%20---%0A%20%20%20%20activate%20C%0A%20%20%20%20C-%3E%3EAPI%3A%201.%20POST%20%2Forders%20(%E6%B3%A8%E6%96%87%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88)%0A%20%20%20%20activate%20API%0A%0A%20%20%20%20note%20right%20of%20API%3A%20%E8%A8%AD%E8%A8%88%E6%84%8F%E5%9B%B3%3A%20%E6%B3%A8%E6%96%87%E5%87%A6%E7%90%86%E3%81%8C%E9%87%8D%E3%81%84%E5%87%A6%E7%90%86%E3%81%A7%E3%81%82%E3%82%8B%E3%81%9F%E3%82%81%3Cbr%3E%E9%9D%9E%E5%90%8C%E6%9C%9F%E5%8C%96%E3%81%A7%E5%BF%9C%E7%AD%94%E6%80%A7%E3%82%92%E4%B8%8A%E3%81%92%E3%82%8B%3Cbr%3E%E9%87%8D%E3%81%84%E5%87%A6%E7%90%86%E3%82%92%E9%9D%9E%E5%90%8C%E6%9C%9F%E5%8C%96(%E8%A9%B3%E7%B4%B0%3A%20ADR-91)%0A%0A%20%20%20%20API-%3E%3EOQ%3A%202.%20Send%20Order%20Message%20(%E9%9D%9E%E5%90%8C%E6%9C%9F)%0A%20%20%20%20API--%3E%3EC%3A%203.%20202%20Accepted%20(%E5%8F%97%E4%BB%98%E5%BF%9C%E7%AD%94)%0A%20%20%20%20deactivate%20API%0A%20%20%20%20deactivate%20C%0A%0A%20%20%20%20%25%25%20---%202.%20%E6%B3%A8%E6%96%87%E5%87%A6%E7%90%86%20(Consumer%201)%20---%0A%20%20%20%20OQ--%3E%3EOP%3A%204.%20Receive%20Order%20Message%0A%20%20%20%20note%20over%20OQ%3A%20%E3%83%AA%E3%83%88%E3%83%A9%E3%82%A4%E8%B6%85%E9%81%8E%E3%81%A7order-dlq%E3%81%B8%0A%20%20%20%20activate%20OP%0A%0A%20%20%20%20OP-%3E%3EDB%3A%205.%20%E6%B3%A8%E6%96%87%E3%82%92DB%E3%81%AB%E4%BF%9D%E5%AD%98%20(%E5%90%8C%E6%9C%9F)%0A%20%20%20%20activate%20DB%0A%20%20%20%20DB--%3E%3EOP%3A%206.%20%E6%B3%A8%E6%96%87%E4%BF%9D%E5%AD%98%E5%AE%8C%E4%BA%86%0A%20%20%20%20deactivate%20DB%0A%0A%20%20%20%20OP-%3E%3EPQ%3A%207.%20Send%20Payment%20Message%20(%E9%9D%9E%E5%90%8C%E6%9C%9F)%0A%20%20%20%20deactivate%20OP%0A%0A%20%20%20%20%25%25%20---%203.%20%E6%B1%BA%E6%B8%88%E5%87%A6%E7%90%86%20(Consumer%202)%20---%0A%20%20%20%20PQ--%3E%3EPP%3A%208.%20Receive%20Payment%20Message%0A%20%20%20%20note%20over%20PQ%3A%20%E3%83%AA%E3%83%88%E3%83%A9%E3%82%A4%E8%B6%85%E9%81%8E%E3%81%A7payment-dlq%E3%81%B8%0A%20%20%20%20activate%20PP%0A%0A%20%20%20%20note%20right%20of%20PP%3A%20%E8%A8%AD%E8%A8%88%E6%84%8F%E5%9B%B3%3A%20SaaS%E3%81%A8%E5%88%86%E6%95%A3%E3%83%88%E3%83%A9%E3%83%B3%E3%82%B6%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AB%E3%81%AA%E3%82%8B%E3%81%9F%E3%82%81%3Cbr%3E%E9%9D%9E%E5%90%8C%E6%9C%9F%E3%81%A7%E5%88%86%E9%9B%A2%E3%81%99%E3%82%8B%EF%BC%88ADR-311%EF%BC%89%0A%0A%20%20%20%20alt%20Happy%20Path%20(%E6%B1%BA%E6%B8%88%E6%88%90%E5%8A%9F)%0A%20%20%20%20%20%20%20%20PP-%3E%3EExtAPI%3A%209a.%20%E6%B1%BA%E6%B8%88%E5%AE%9F%E8%A1%8C%20(%E5%90%8C%E6%9C%9F)%0A%20%20%20%20%20%20%20%20activate%20ExtAPI%0A%20%20%20%20%20%20%20%20ExtAPI--%3E%3EPP%3A%2010a.%20%E6%B1%BA%E6%B8%88OK%0A%20%20%20%20%20%20%20%20deactivate%20ExtAPI%0A%20%20%20%20else%20Failure%20Path%20(%E6%B1%BA%E6%B8%88%E5%A4%B1%E6%95%97%2F%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%A2%E3%82%A6%E3%83%88)%0A%20%20%20%20%20%20%20%20PP-%3E%3EExtAPI%3A%209b.%20%E6%B1%BA%E6%B8%88%E5%AE%9F%E8%A1%8C%20(%E5%90%8C%E6%9C%9F)%0A%20%20%20%20%20%20%20%20activate%20ExtAPI%0A%20%20%20%20%20%20%20%20ExtAPI--%3E%3EPP%3A%2010b.%20%E6%B1%BA%E6%B8%88NG%20(e.g.%2C%20503)%0A%20%20%20%20%20%20%20%20deactivate%20ExtAPI%0A%0A%0A%20%20%20%20end%0A%20%20%20%20deactivate%20PP%0A"})]),fallback:e(()=>[...t[13]||(t[13]=[n(" Loading... ",-1)])]),_:1}))]),t[31]||(t[31]=s("",20))])}const _=p(C,[["render",D]]);export{Q as __pageData,_ as default};
